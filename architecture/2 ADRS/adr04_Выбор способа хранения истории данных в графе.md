# ADR06 Выбор способа хранения истории графа

---
status: proposed 
date: 2022-08-17
deciders: Дзюбва Дмитрий
---

## Context and Problem Statement

Необходимо вести историю изменения графа и эффективно ее анализировать

## Considered Options

* Хранение версии изменений каждого объекта как отдельного узла графа
* Хранить в графе только актуальную версию, а историю изменений хранить в отдельной базе
* Не хранить историю


## Decision Outcome

В графовой СУЬД будем хранить актуальный граф. Предыдущие версии данных мы будем хранить в MongoDB вместе с предыдущими связями.

### Positive Consequences

* Такой способ не даст разростаться графу
* Обращений к истории скорее всего будеит мало, пожтому много запросов к MongoDB в процессе поиска не предвидется

### Negative Consequences

* Усложнение механизма хранения и поиска информации (две базы вместо одной)
